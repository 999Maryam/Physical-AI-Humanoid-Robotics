"use strict";(globalThis.webpackChunkai_textbook_frontend=globalThis.webpackChunkai_textbook_frontend||[]).push([[401],{1207:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(6540),o=n(2005),a=n(6347),l=n(4586),s=n(8774),i=n(4848);const c=({currentPath:t})=>{const{i18n:e}=(0,l.A)(),{currentLocale:n,locales:r}=e,o=e=>{const n=t.split("/");return r.includes(n[1])?n[1]=e:""===n[0]&&n.splice(1,0,e),n.join("/").replace("//","/")};return(0,i.jsx)("div",{style:{margin:"10px 0",textAlign:"right"},children:r.map(t=>(0,i.jsx)(s.A,{to:o(t),style:{marginLeft:"10px",fontWeight:n===t?"bold":"normal",textDecoration:"none",color:n===t?"#007bff":"#333"},children:t.toUpperCase()},t))})},h=async(t,e,n)=>{try{const r=await fetch(`http://localhost:8000/api/v1/personalize/${t}/chapter/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({original_content:n})});if(!r.ok){const t=await r.json();throw new Error(t.detail||"Failed to get personalized content")}return(await r.json()).personalized_content}catch(r){throw console.error("Error fetching personalized content:",r),r}},u=async(t,e)=>{try{const n=await fetch(`/api/v1/chapters/${t}/translate?target_language=${e}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return(await n.json()).translated_text}catch(n){return console.error("Error fetching translated content:",n),null}},p=!0,d="user123";function f(t){const{pathname:e}=(0,a.zy)(),{i18n:n}=(0,l.A)(),{currentLocale:s}=n,[f,g]=(0,r.useState)(null),[x,j]=(0,r.useState)(null),[y,w]=(0,r.useState)(null);return(0,r.useEffect)(()=>{const n=e.split("/").filter(Boolean),r=n[n.length-1];if(w(r),"ur"===s&&r)u(r,"ur").then(t=>{g(t),p&&d&&t?h(d,r,t).then(t=>{j(t)}):j(null)});else if(p&&d&&r){const e=t.children.props.children;e&&h(d,r,e).then(t=>{j(t)}),g(null)}else g(null),j(null)},[e,s,t.children.props.children]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{currentPath:e}),p&&x?(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:x}}):"ur"===s&&f?(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:f}}):(0,i.jsx)(o.A,{...t})]})}}}]);